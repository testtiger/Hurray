<div class="b-island__title">Attachment</div>
<div ng-controller="AttachmentPreviewCtrl" class="attachment">
    <div class="pane__header">
        <h3>
            <div class="pane__header_controls pull-right">
                <span class="glyphicon glyphicon-resize-full clickable" tooltip="Expand" ng-hide="isState('testcase.attachment.expanded')" ng-click="go('testcase.attachment.expanded')"></span>
                <span class="glyphicon glyphicon-resize-small clickable" tooltip="Collapse" ng-show="isState('testcase.attachment.expanded')" ng-click="go('testcase.attachment')"></span>
                <span class="glyphicon glyphicon-remove clickable" tooltip="Close" ng-click="go('testcase')"></span>
            </div>
            {{attachment.title}}
        </h3>
        <a class="text-muted" ng-href="{{getSourceUrl(attachment)}}">{{attachment.source}}</a>
    </div>
    <div class="attachment_body" ng-switch="type" ng-hide="notFound">
        <div ng-switch-when="image" class="text-center">
            <img ng-src="{{getSourceUrl(attachment)}}" alt="Attachment image" ng-class="{'zoom-in': !isExpanded(), 'zoom-out': isExpanded()}" ng-click="toggleExpanded()" on-error="onError()" />
        </div>
        <div ng-switch-when="text">
            <pre><code data-language="{{language}}" highlight="attachText"></code></pre>
        </div>
        <div ng-switch-default>
            <iframe style="width: 100%; min-height: 600px;" frameborder="0" ng-src="{{getSourceUrl(attachment)}}" on-error="onError()"></iframe>
        </div>
    </div>
    <p ng-show="notFound"><i class="text-muted">Attachment not found</i></p>
</div>
